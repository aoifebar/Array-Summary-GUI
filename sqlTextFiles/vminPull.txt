SELECT 
	TS.LOT,
	TS.WAFER_ID, 
	TS.PROGRAM_NAME, 
	TS.TESTING_SESSION_SEQUENCE, 
	T.TEST_NAME, 
	--####MBIST/END####RTD.STRING_ALTERNATIVE AS VMIN
	--####PBIST####RTD.NUMERIC_RESULT AS VMIN

FROM A_Testing_Session TS
INNER JOIN A_Device_Testing DT on (TS.TS_ID = DT.TS_ID and TS.LAO_START_WW = DT.LAO_START_WW)

--####PBIST####inner join A_PARAMETRIC_RESULT RTD on (RTD.LAO_START_WW = TS.LAO_START_WW and RTD.TS_ID = TS.TS_ID and RTD.DT_ID = DT.DT_ID)

--####MBIST/END####inner join A_RAW_TEST_DATA RTD on (RTD.LAO_START_WW = TS.LAO_START_WW and RTD.TS_ID = TS.TS_ID and RTD.DT_ID = DT.DT_ID)

inner join A_TEST T ON
(T.T_ID = RTD.T_ID and T.PROGRAM_NAME = TS.PROGRAM_NAME and T.DEVREVSTEP = TS.DEVREVSTEP)


WHERE
	TS.LOT = '####LOT####'
	AND TS.DEVREVSTEP LIKE '####DEVREVSTEP####'
	AND TS.Operation LIKE '%'
	AND TS.TESTING_SESSION_SEQUENCE = 1
	AND DT.WITHIN_SESSION_LATEST_FLAG = 'Y'
	AND DT.TEST_TIME > 0
	AND T.TEST_NAME like '####MODULE####%####FLOW####%'
